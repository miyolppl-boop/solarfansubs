<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>SolarFansub</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#0c0c0c;color:#eee}
header{background:#000;padding:12px 16px;display:flex;justify-content:space-between;align-items:center}
.logo{color:#f5d76e;font-size:20px;font-weight:bold}
input,button{padding:8px;border-radius:6px;border:none}
button{background:#f5d76e;color:#000;cursor:pointer}
.container{padding:16px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px}
.card{background:#151515;border-radius:8px;padding:10px;text-align:center;cursor:pointer}
.card img{width:100%;height:230px;object-fit:cover;border-radius:6px}
.hidden{display:none}
.star{font-size:22px;color:#444;cursor:pointer}
.star.active{color:#f5d76e}
.chapter{background:#1f1f1f;padding:10px;border-radius:6px;margin:6px 0;cursor:pointer}
.reader img{width:100%;margin-bottom:10px}
.admin{position:fixed;right:10px;bottom:10px;background:#111;padding:10px;border-radius:8px}
</style>
</head>

<body>

<header>
<div class="logo">SolarFansub</div>
<input id="search" placeholder="Seri ara..." oninput="renderSeries()">
</header>

<div id="home" class="container"></div>
<div id="detail" class="container hidden"></div>
<div id="reader" class="container hidden reader"></div>

<div class="admin">
<input id="adminPass" type="password" placeholder="Admin şifre">
<button onclick="adminLogin()">Giriş</button>
</div>

<script>
const ADMIN_PASSWORD="123456";

let data=JSON.parse(localStorage.getItem("DATA"))||{
series:[
{
id:1,
title:"Örnek Manwha",
cover:"https://via.placeholder.com/300x450",
desc:"Bu örnek bir manwha açıklamasıdır.",
genres:["Action","Fantasy"],
rating:[],
views:0,
chapters:[
{
id:1,
title:"Bölüm 1",
pages:[
"https://via.placeholder.com/800x1200",
"https://via.placeholder.com/800x1200"
],
views:0
}
]
}
]
};

let isAdmin=false;

function save(){localStorage.setItem("DATA",JSON.stringify(data));}

function renderSeries(){
home.classList.remove("hidden");
detail.classList.add("hidden");
reader.classList.add("hidden");

const q=search.value.toLowerCase();
home.innerHTML=`<div class="grid">${
data.series
.filter(s=>s.title.toLowerCase().includes(q))
.map(s=>`
<div class="card" onclick="openSeries(${s.id})">
<img src="${s.cover}">
<b>${s.title}</b>
</div>`).join("")
}</div>`;
}

function openSeries(id){
const s=data.series.find(x=>x.id===id);
s.views++; save();

home.classList.add("hidden");
detail.classList.remove("hidden");

const avg=s.rating.length?(s.rating.reduce((a,b)=>a+b,0)/s.rating.length).toFixed(1):"0";

detail.innerHTML=`
<h2>${s.title}</h2>
<img src="${s.cover}" style="max-width:250px">
<p>${s.desc}</p>
<p><b>Türler:</b> ${s.genres.join(", ")}</p>
<p><b>Görüntülenme:</b> ${s.views}</p>

<div>
${[1,2,3,4,5].map(i=>`<span class="star ${avg>=i?'active':''}" onclick="rate(${id},${i})">★</span>`).join("")}
<b>${avg}</b>
</div>

<h3>Bölümler</h3>
${s.chapters.map(c=>`
<div class="chapter" onclick="openChapter(${id},${c.id})">
${c.title} (${c.views})
</div>`).join("")}

<div id="disqus_thread"></div>
`;
loadDisqus(id);
}

function rate(id,val){
const s=data.series.find(x=>x.id===id);
s.rating.push(val);
save();
openSeries(id);
}

function openChapter(sid,cid){
const s=data.series.find(x=>x.id===sid);
const c=s.chapters.find(x=>x.id===cid);
c.views++; save();

detail.classList.add("hidden");
reader.classList.remove("hidden");
reader.innerHTML=c.pages.map(p=>`<img src="${p}">`).join("");
}

function adminLogin(){
if(adminPass.value===ADMIN_PASSWORD){
isAdmin=true;
alert("Admin girişi başarılı");
}else alert("Hatalı şifre");
}

function loadDisqus(id){
window.disqus_config=function(){
this.page.identifier=id;
};
let d=document,s=d.createElement("script");
s.src="https://YOUR_SHORTNAME.disqus.com/embed.js";
s.setAttribute("data-timestamp",+new Date());
(d.head||d.body).appendChild(s);
}

renderSeries();
</script>

</body>
</html>
