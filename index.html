<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>SolarFansub</title>

<meta name="description" content="SolarFansub - T√ºrk√ße manhwa ve manga okuma sitesi">
<meta name="robots" content="index, follow">
<link rel="icon" href="logo.png">

<style>
body{margin:0;font-family:Arial;background:#0b0b0b;color:#f5f5dc}
header{background:#000;padding:10px;display:flex;justify-content:space-between;align-items:center}
h1{color:#f5d76e;margin:0}
.menu-btn{font-size:24px;color:#f5d76e;cursor:pointer}
#menu{position:fixed;top:0;right:-280px;width:280px;height:100%;background:#111;padding:20px;transition:.3s}
#menu.active{right:0}
.hidden{display:none}
button{padding:8px;margin-top:5px;width:100%}
input,textarea{width:100%;padding:6px;margin-top:5px}
.series{padding:15px}
.series-item{border-bottom:1px solid #333;padding:10px}
.reader img{width:100%;margin-bottom:10px}
.like{cursor:pointer;color:gold}
.admin-box{margin-top:10px}
</style>
</head>

<body>

<header>
<h1>SolarFansub</h1>
<div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
</header>

<div class="series" id="series"></div>

<div id="menu">
<div id="loginBox">
<h3>Admin Giri≈üi</h3>
<input id="adminPass" type="password" placeholder="≈ûifre">
<button onclick="login()">Giri≈ü</button>
</div>

<div id="adminPanel" class="hidden">
<h3>Admin Panel</h3>

<img id="avatar" src="https://via.placeholder.com/100" width="100"><br>
<input type="file" onchange="changeAvatar(this.files[0])">

<h4>≈ûifre Deƒüi≈ütir</h4>
<input id="newPass" placeholder="Yeni ≈ûifre">
<button onclick="changePassword()">Kaydet</button>

<h4>Seri Ekle</h4>
<input id="serieName" placeholder="Seri adƒ±">
<button onclick="addSerie()">Ekle</button>

<h4>B√∂l√ºm Ekle</h4>
<input id="chapterSerie" placeholder="Seri adƒ±">
<input id="chapterName" placeholder="B√∂l√ºm adƒ±">
<textarea id="chapterImages" placeholder="Resim URL (alt alta)"></textarea>
<button onclick="addChapter()">B√∂l√ºm Ekle</button>

<button onclick="logout()">√áƒ±kƒ±≈ü</button>
</div>
</div>

<script>
let ADMIN_PASSWORD = localStorage.getItem("adminPass") || "SIFRE_YAZ";

const seriesDiv=document.getElementById("series");
const data=JSON.parse(localStorage.getItem("data")||"{}");

function save(){localStorage.setItem("data",JSON.stringify(data));}

function toggleMenu(){menu.classList.toggle("active")}

function login(){
 if(adminPass.value===ADMIN_PASSWORD){
  localStorage.setItem("admin","1");
  loginBox.classList.add("hidden");
  adminPanel.classList.remove("hidden");
 }
}

function logout(){
 localStorage.removeItem("admin");
 location.reload();
}

if(localStorage.getItem("admin")){
 loginBox.classList.add("hidden");
 adminPanel.classList.remove("hidden");
}

function changePassword(){
 ADMIN_PASSWORD=newPass.value;
 localStorage.setItem("adminPass",ADMIN_PASSWORD);
 alert("≈ûifre deƒüi≈üti");
}

function changeAvatar(file){
 const r=new FileReader();
 r.onload=e=>{
  avatar.src=e.target.result;
  localStorage.setItem("avatar",e.target.result);
 };
 r.readAsDataURL(file);
}
if(localStorage.getItem("avatar")) avatar.src=localStorage.getItem("avatar");

function addSerie(){
 data[serieName.value]={chapters:[]};
 save(); render();
}

function addChapter(){
 data[chapterSerie.value].chapters.push({
  name:chapterName.value,
  imgs:chapterImages.value.split("\n"),
  likes:0
 });
 save(); render();
}

function render(){
 seriesDiv.innerHTML="";
 for(let s in data){
  let d=document.createElement("div");
  d.innerHTML=`<h2>${s}</h2>`;
  data[s].chapters.forEach((c,i)=>{
   d.innerHTML+=`
   <div class="series-item">
   ${c.name}
   <span class="like" onclick="like('${s}',${i})">‚≠ê ${c.likes}</span>
   ${localStorage.getItem(s+i)?"‚úÖ":"üÜï"}
   <button onclick="read('${s}',${i})">Oku</button>
   ${localStorage.getItem("admin")?`<button onclick="del('${s}',${i})">Sil</button>`:""}
   </div>`;
  });
  seriesDiv.appendChild(d);
 }
}
render();

function like(s,i){data[s].chapters[i].likes++;save();render();}
function del(s,i){data[s].chapters.splice(i,1);save();render();}

function read(s,i){
 localStorage.setItem(s+i,"1");
 document.body.innerHTML=`<div class="reader">${
 data[s].chapters[i].imgs.map(x=>`<img src="${x}">`).join("")
 }</div>`;
}
</script>

</body>
</html>
